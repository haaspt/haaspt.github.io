<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Basic Data Parsing with Python – Data Management and Visualization</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="haaspt.github.io/" rel="canonical" />

  <!-- Feed -->
        <link href="haaspt.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Bricks Without Clay Full Atom Feed" />
          <link href="haaspt.github.io/feeds/projects.atom.xml" type="application/atom+xml" rel="alternate" title="Bricks Without Clay Categories Atom Feed" />

  <link href="haaspt.github.io/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="haaspt.github.io/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


    <link href="haaspt.github.io/basic-data-parsing-with-python.html" rel="canonical" />

        <meta name="description" content="Data Management and Visualization — Week 2">

        <meta name="author" content="Patrick Tyler Haas">

        <meta name="tags" content="politics">
        <meta name="tags" content="data science">




<!-- Open Graph -->
<meta property="og:site_name" content="Bricks Without Clay"/>
<meta property="og:title" content="Basic Data Parsing with Python – Data Management and Visualization"/>
<meta property="og:description" content="Data Management and Visualization — Week 2"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="haaspt.github.io/basic-data-parsing-with-python.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-03-06 00:00:00-08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="haaspt.github.io/author/patrick-tyler-haas.html">
<meta property="article:section" content="projects"/>
<meta property="article:tag" content="politics"/>
<meta property="article:tag" content="data science"/>
<meta property="og:image" content="haaspt.github.io/theme/images/post-bg.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Basic Data Parsing with Python – Data Management and Visualization",
  "headline": "Basic Data Parsing with Python – Data Management and Visualization",
  "datePublished": "2016-03-06 00:00:00-08:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Patrick Tyler Haas",
    "url": "haaspt.github.io/author/patrick-tyler-haas.html"
  },
  "image": "haaspt.github.io/theme/images/post-bg.jpg",
  "url": "haaspt.github.io/basic-data-parsing-with-python.html",
  "description": "Data Management and Visualization — Week 2"
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="haaspt.github.io/pages/about.html">About</a></li>
              <li role="presentation"><a href="haaspt.github.io/pages/contact.html">Contact</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="haaspt.github.io/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Basic Data Parsing with Python – Data Management and Visualization</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="haaspt.github.io/author/patrick-tyler-haas.html">Patrick Tyler Haas</a>
            | <time datetime="Sun 06 March 2016">Sun 06 March 2016</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('haaspt.github.io/theme/images/post-bg.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <h3>Basic Data Parsing with Python</h3>
<h4><a href="https://www.coursera.org/learn/data-visualization/">Data Management and Visualization</a> — Week 2</h4>
<p><em>This is the second in a</em> <a href="https://medium.com/bricks-without-clay"><em>series of
posts</em></a> <em>I’m writing as part o</em>f
<em>Wesleyan University’s online</em> <a href="https://www.coursera.org/learn/data-visualization/"><em>Data Management and
Visualization</em></a>
<em>course.</em></p>
<h4>Overview</h4>
<p>This week we’re covering basic data loading and summarization using
either SAS or Python. I’ve decided to use Python because it’s the tool
I’m more familiar with and I feel it has much more flexibility and
scope.</p>
<p>I’ve been using Python for about a year now for a range of applications.
Initially I mainly wrote <a href="https://github.com/haaspt/csv2kml">scripts</a>
and <a href="https://github.com/haaspt/whatsnew">simple CLI programs</a>, but
recently I’ve started using it in my day-to-day work for interactive
data manipulation.</p>
<p>When it comes to working with data in Python, there is no better tool
than <a href="http://pandas.pydata.org/">Pandas</a>. For the uninitiated, Pandas is
a data analysis library that provides a huge selection of data
manipulation tools that are both powerful and (relatively) user
friendly. If you’re new to programming or data analysis think of Pandas
as giving you the ability to work with data the way you would in Excel.
You’re just trading the convenience of a graphical user interface for
the power and flexibility that comes with Python.</p>
<p>This week I’ll demonstrate loading the <a href="https://medium.com/bricks-without-clay/demographics-politics-and-optimism-6376243e4bc#.y9jq5x26r">data I discussed last
week</a>
from a CSV file into a Pandas dataframe using Python and Pandas. Then
I’ll extract some of the variables related to demographics and outlook
and run some frequency analyses to get a quick look at what we’re
dealing with.</p>
<h4>Loading Data</h4>
<p>Dataframes are the core of the Pandas library. From a user point of view
you can think of a Pandas dataframe as basically the same as an Excel
spreadsheet. It has labeled columns, which contain various forms of
data, which are numerically indexed by row.</p>
<p>Loading data from a CSV or Excel spreadsheet into a Pandas dataframe is
extremely simple. We simply run this code:</p>
<p>And that’s it! We now have a dataframe with all of our survey data
inside.</p>
<p>Before we start working with our data we might want to get a sense of
how many columns and rows we’re working with. To do that we can simply
use the ‘shape’ command:</p>
<div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="p">(</span><span class="mi">2294</span><span class="p">,</span> <span class="mi">436</span><span class="p">)</span>
</pre></div>


<p>This output tells us that our data has 2294 rows and 436 columns. This
corresponds to our 2294 survey respondents and the 436 questions that
were included in the survey.</p>
<p>Our data is too big to view all at once. If you want to get a quick peak
you can run the following command:</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<p>That will display only the first row of data in each column of our
frame. Unfortunately the data we’re working with is 436 columns wide, so
the output will still get truncated. But this is still useful for
getting a sense of what you’re working with.</p>
<p>Now that we’ve got our data loaded, let’s summarize some of the
variables that we’ll be using in our later analyses.</p>
<h4>Accessing and Summarizing Columns</h4>
<p>Last week I said I would be looking at three types of variables in order
to gain some insight into how demographics and political orientation
affect our outlook on the future. Broadly they were:</p>
<ol>
<li>Respondents’ political orientation</li>
<li>Respondents’ demographic data (primarily ethnicity and age)</li>
<li>Respondents’ views on their future and the future of the country</li>
</ol>
<p>With over 400 survey questions asked, there are a lot of ways (both
directly and indirectly) to approach these questions, but let’s just
start with the questions that most directly relate.</p>
<p>Here is a list of the questions we will be using, grouped according to
the categories I listed above. The first item lists the variable name,
which we’ll use when accessing our dataframe, followed by the text of
the
question.</p>
<p>`</p>
<h1>Political Orientation</h1>
<p>`</p>
<p><code>W1_C1: Generally speaking, do you usually think of yourself as a Democrat, a Republican, an Independent, or something else?</code></p>
<p>`</p>
<h1>Demographic Information</h1>
<p>`</p>
<p><code>PPAGE: The respondent's age
PPETHM: The respondent's self-described ethnicity
PPGENDER: The respondent's gender</code></p>
<p>`</p>
<h1>Views on the future</h1>
<p>`</p>
<p><code>W1_B4:Generally speaking, how angry do you feel about the way things are going in the country these days?
W1_F1: When you think about your future, are you generally optimistic, pessimistic, or neither optimistic nor pessimistic?</code></p>
<p>Great, now that we have that data, let’s create a new dataframe
containing only these columns:</p>
<p>All we need to do now is start summarizing our data. There are <em>many</em>
ways to do this with Pandas, but for this lesson we’ll be using the
value_counts() function. value_counts will give us either the raw
count of each response by category, or the response as a proportion of
the total responses.</p>
<p>Note that if you’re running this code interactively in iPython you don’t
need to set these to variables, you can just execute the code and it
will display the output immediately.</p>
<p>Now that we have all our counts and frequency tables stored to variables
we just need to display them. If you’re using Python interactively (i.e.
using iPython or similar) you can do this by just typing the variable
name. Otherwise, you’ll have to use the print function to output the
table.</p>
<p>Here are our tables:</p>
<p>Note that I didn’t include the age variable in the above table. That’s
because with each person giving his or her exact age we have over 60
different responses. That makes for a messy summarization table. In next
week’s entry I’ll go over the group_by() function as well as the use of
bins, which help us group data in ways that make it easier to work with.</p>
<h4>Review</h4>
<p>With just a few commands you can see that we’re already well on our way
to a better understanding of our data. For example, it’s clear that we
have a very optimistic group of respondents, with over 50% saying they
were optimistic about their own future. We also know that over 75% said
they were angry on some level about the direction the country was going
in.</p>
<p>This is really just the tip of the iceberg when it comes to Pandas
functionality. Each of the functions I used today can be tweaked using
optional arguments and settings to behave exactly how you want. There
are far too many to cover in this course, but if you’re interested I
suggest browsing through the <a href="http://pandas.pydata.org/pandas-docs/stable/">Pandas
documentation</a>.</p>
<p>Likewise, our analysis is only getting started. We’ve learned how to get
a quick snapshot of the responses for a given question, but that doesn’t
really tell us all that much. To do that we need group the data in order
to say “X% of people who believe Y also think that Z.”</p>
<p>To accomplish that, we’ll need to learn how to use Pandas functions like
the groupby(), to add a new dimension to our analysis.</p>
<hr>
<p><a href="https://medium.com/bricks-without-clay/more-data-parsing-with-python-1847aee19501#.nh7t5zkp3"><em>Next week’s
post</em></a>
<em>covers cleaning, managing, and further analyzing our data in Python.</em></p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Basic Data Parsing with Python – Data Management and Visualization&amp;url=haaspt.github.io/basic-data-parsing-with-python.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=haaspt.github.io/basic-data-parsing-with-python.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=haaspt.github.io/basic-data-parsing-with-python.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="haaspt.github.io/tag/politics.html">politics</a><a href="haaspt.github.io/tag/data-science.html">data science</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="haaspt.github.io/theme/js/script.js"></script>

</body>
</html>